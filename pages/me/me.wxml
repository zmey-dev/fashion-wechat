<view class="container">
  <!-- User Profile Header -->
  <view class="profile-header">
    <view class="profile-info">
      <view class="avatar-container">
        <avatar class="avatar" src="{{userInfo.avatar}}" name="{{userInfo.username}}" size="{{100}}" mode="aspectFill" />
      </view>
      
      <view class="user-details">
        <view class="username-section">
          <text class="username">{{userInfo.username}}</text>
          <view class="user-meta">
            <text class="phone">(æ‰‹æœº: {{userInfo.phone}},</text>
            <view class="gender-age">
              <text class="gender-icon">{{user.gender === 'male' ? 'â™‚' : 'â™€'}}</text>
              <text class="age">{{age}} å²)</text>
            </view>
          </view>
        </view>
        
        <view class="stats-container">
          <view class="stat-item">
            <text class="stat-number">{{userInfo.likes_count}}</text>
            <text class="stat-label">è·èµ</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{userInfo.friends_count}}</text>
            <text class="stat-label">å¥½å‹</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{userInfo.follows_count}}</text>
            <text class="stat-label">å…³æ³¨</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{userInfo.followers_count}}</text>
            <text class="stat-label">ç²‰ä¸</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- Tabs Navigation -->
  <view class="tabs-container">
    <view class="tabs">
      <view 
        wx:for="{{tabs}}" 
        wx:key="index"
        class="tab-item {{currentTab === index ? 'active' : ''}}"
        data-index="{{index}}"
        bindtap="onTabChange"
      >
        <text>{{item}}</text>
      </view>
    </view>
  </view>

  <!-- Posts Grid -->
  <view class="posts-container">
    <view wx:if="{{!loading && posts.length === 0}}" class="empty-state">
      <text class="empty-text">æš‚æ— å†…å®¹</text>
    </view>
    
    <view wx:else class="posts-grid">
      <view 
        wx:for="{{posts}}" 
        wx:key="id"
        class="post-card"
        data-id="{{item.id}}"
        bindtap="onPostTap"
      >
        <image class="post-image" src="{{item.type=='video'?item.media[0].preview_url:item.media[0].url}}" mode="aspectFill" />
        
        <view class="post-overlay">
          <view class="post-stats">
            <view class="stat">
              <text class="stat-icon">â™¥</text>
              <text class="stat-text">{{item.likes}}</text>
            </view>
            <view class="stat">
              <text class="stat-icon">ğŸ’¬</text>
              <text class="stat-text">{{item.comments}}</text>
            </view>
          </view>
        </view>
        
        <view wx:if="{{currentTab === 0}}" class="post-actions">
          <view 
            class="action-btn delete-btn"
            data-id="{{item.id}}"
            catchtap="onDeletePost"
          >
            <text>ğŸ—‘ï¸</text>
          </view>
        </view>
      </view>
    </view>

    <!-- Loading Indicator -->
    <view wx:if="{{loading}}" class="loading-container">
      <view class="loading-spinner"></view>
      <text class="loading-text">{{messages.loading}}</text>
    </view>
  </view>

  <!-- Floating Action Button -->
  <view class="fab" bindtap="scrollToTop">
    <text class="fab-icon">â†‘</text>
  </view>
  <douyin-tabbar current="me"></douyin-tabbar>
</view>