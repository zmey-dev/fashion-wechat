<view class="douyin-tabbar">
  <view 
    class="tab-item {{current === item.name ? 'active' : ''}} {{item.isSpecial ? 'special' : ''}}" 
    wx:for="{{tabs}}" 
    wx:key="name"
    bindtap="navigateTo"
    data-path="{{item.path}}"
    data-name="{{item.name}}"
  >
    <view class="{{item.isSpecial ? 'upload-btn' : 'tab-icon-container'}}">
      <image 
        class="tab-icon" 
        src="{{current === item.name ? item.activeIcon : item.icon}}" 
        mode="aspectFit"
      ></image>
      <!-- Unread message badge for chat tab -->
      <view 
        wx:if="{{item.name === 'chat' && totalUnreadCount > 0}}" 
        class="unread-badge"
      >
        <text class="unread-count">{{totalUnreadCount > 99 ? '99+' : totalUnreadCount}}</text>
      </view>
      <!-- Notification badge for notification tab -->
      <view 
        wx:if="{{item.name === 'notification' && notificationCount > 0}}" 
        class="unread-badge"
      >
        <text class="unread-count">{{notificationCount > 99 ? '99+' : notificationCount}}</text>
      </view>
    </view>
    <text class="tab-text" wx:if="{{item.text}}">{{item.text}}</text>
  </view>
  <login-modal wx:if="{{showLoginModal}}" class="login-modal" />
</view>